<html xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" href="/css/groupList.css">
<th:block th:replace="~{/include/baseLayout :: setContent( ~{ :: .wrap} ) }">
<script src="/js/jquery-3.7.1.min.js"></script>
<div class="wrap">
 <div class="container-fluid py-4">
      <div class="container-title">그룹신청내역</div>
      <div class="search-wrap">
        <span>숙제제출내용</span>      
        <select>
          <option value="">전체</option>
        </select>
      </div>
      <table class="comunity-table">
        <tr class="table-title">
          <th>숙제제출번호</th>
          <th>숙제번호</th>
          <th>제출자</th>
          <th>숙제제목</th>
          <th>제출내용</th>
          <th>숙제배점</th>
          <th>숙제난이도</th>
          <th>상세</th>
  		    <th>정답</th>
        </tr>
        
        <tr class="table-content" th:each="vo,status : ${hwdList}">
          <td>[[${vo.asmtAnsNo}]]</td>
          <td class="asmtNo a1">[[${vo.asmtNo}]]</td>
          <td class="userId">[[${vo.userId}]]</td>
          <td class="asmtNm">[[${vo.asmtNm}]]</td>
          <td class="asmtAns">[[${vo.asmtAns}]]</td>
          <td>[[${vo.asmtScr}]]</td>
          <td>[[${vo.asmtGrd}]]</td>
          <td><button type="button" class="detailBtn">상세보기</button></td>
          <td><button type="button" class="makeCorrect">정답처리</button></td>
        </tr>
      </table>
      <div class="pagenation">
        <span>prev</span>
        <span class="active">1</span>
        <span>2</span>
        <span>3</span>
        <span>next</span>
      </div>
    </div>
</div>

</th:block>
<script>
	$(".detailBtn").click(function(e){
		var asmtNo=e.target.parentElement.firstElementChild.nextElementSibling;
    	var userId=e.target.parentElement.firstElementChild.nextElementSibling.nextElementSibling;
    	var asmtNm=e.target.parentElement.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling;
    	var asmtAns=e.target.parentElement.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling;
    	var url="homeworkDetail?asmtNo"+asmtNo+"&asmtNm"+asmtNm+"&asmtAns"+asmtAns+"&userId"+userId;
    	var name="숙제 상세보기.";
    	var option="width=825,length=825,top=0,left=0,location=yes";
    	window.open(url,name,option);
  });
  $(".makeCorrect").click(function(e){
	  	var asmtAnsNo=e.target.parentElement.firstElementChild;
    	var userId=e.target.parentElement.firstElementChild.nextElementSibling.nextElementSibling;
    	var asmtScr=e.target.parentElement.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling;
    	location.href="/creator/makeCorrect?"+userId+"&asmtScr"+asmtScr+"&asmtAnsNo"+asmtAnsNo;
  });
</script>
</html>